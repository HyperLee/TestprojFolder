# ä»»å‹™æ¸…å–®ï¼šä¸–ç•Œæ™‚é˜ (World Clock)

**è¼¸å…¥ä¾†æº**: è¨­è¨ˆæ–‡ä»¶ä¾†è‡ª `/specs/003-world-clock/`  
**å‰ç½®éœ€æ±‚**: plan.md, spec.md, research.md, data-model.md, contracts/  
**ç”¢ç”Ÿæ—¥æœŸ**: 2025-11-01

**æ¸¬è©¦ç­–ç•¥**: 
- æ•´åˆæ¸¬è©¦å„ªå…ˆä½¿ç”¨æ‰‹å‹•é©—è­‰ï¼ˆé–‹å•Ÿç€è¦½å™¨æ¸¬è©¦ï¼‰
- è‡ªå‹•åŒ–æ¸¬è©¦ç‚ºé¸ç”¨é …ç›®ï¼ˆå¦‚ç’°å¢ƒå•é¡Œå¯è·³éï¼‰
- æ¯å€‹ä½¿ç”¨è€…æ•…äº‹éƒ½å¯ç¨ç«‹é©—è­‰åŠŸèƒ½

**çµ„ç¹”æ–¹å¼**: ä»»å‹™ä¾ä½¿ç”¨è€…æ•…äº‹åˆ†çµ„ï¼Œæ¯å€‹æ•…äº‹éƒ½å¯ç¨ç«‹å¯¦ä½œå’Œæ¸¬è©¦

## æ ¼å¼èªªæ˜ï¼š`[ID] [Story] æè¿°`

- **[Story]**: æ­¤ä»»å‹™å±¬æ–¼å“ªå€‹ä½¿ç”¨è€…æ•…äº‹ï¼ˆä¾‹å¦‚ï¼šUS1, US2, US3ï¼‰
- æ‰€æœ‰ä»»å‹™æè¿°éƒ½åŒ…å«æ˜ç¢ºçš„æª”æ¡ˆè·¯å¾‘

---

## éšæ®µ 1ï¼šè¨­å®šï¼ˆå…±ç”¨åŸºç¤è¨­æ–½ï¼‰

**ç›®çš„**: å»ºç«‹åŸºæœ¬æª”æ¡ˆçµæ§‹å’Œå°ˆæ¡ˆé…ç½®

- [ ] T001 åœ¨ BNICalculate/Pages/WorldClock.cshtml.cs å»ºç«‹ç©ºç™½çš„ WorldClock PageModel
- [ ] T002 åœ¨ BNICalculate/Pages/WorldClock.cshtml å»ºç«‹ç©ºç™½çš„ WorldClock Razor è¦–åœ–
- [ ] T003 åœ¨ BNICalculate/wwwroot/css/worldclock.css å»ºç«‹ç©ºç™½çš„æ¨£å¼è¡¨
- [ ] T004 åœ¨ BNICalculate/wwwroot/js/worldclock.js å»ºç«‹ç©ºç™½çš„ JavaScript è…³æœ¬
- [ ] T005 åœ¨ BNICalculate/Pages/Shared/_Layout.cshtml æ–°å¢ä¸–ç•Œæ™‚é˜é é¢çš„å°è¦½é€£çµ

---

## éšæ®µ 2ï¼šåŸºç¤å»ºè¨­ï¼ˆé˜»æ“‹æ€§å‰ç½®éœ€æ±‚ï¼‰

**ç›®çš„**: å»ºç«‹ä½¿ç”¨è€…æ•…äº‹å°‡ä¾è³´çš„åŸºæœ¬é é¢çµæ§‹

**âš ï¸ é‡è¦**: åœ¨æ­¤éšæ®µå®Œæˆå‰ï¼Œæ‰€æœ‰ä½¿ç”¨è€…æ•…äº‹çš„å·¥ä½œéƒ½ç„¡æ³•é–‹å§‹

- [ ] T006 åœ¨ BNICalculate/Pages/WorldClock.cshtml.cs å¯¦ä½œåŸºæœ¬çš„ WorldClockModel é¡åˆ¥ä¸¦åŠ ä¸Š XML æ–‡ä»¶è¨»è§£
- [ ] T007 åœ¨ BNICalculate/Pages/WorldClock.cshtml å»ºç«‹åŸºæœ¬çš„ HTML çµæ§‹ï¼ˆä½¿ç”¨ Bootstrap å®¹å™¨ï¼‰
- [ ] T008 åœ¨ WorldClock.cshtml ä¸­ä½¿ç”¨ script/link æ¨™ç±¤é€£çµ CSS å’Œ JS æª”æ¡ˆ

**æª¢æŸ¥é»**: åŸºç¤å°±ç·’ - ä½¿ç”¨è€…æ•…äº‹å¯¦ä½œç¾åœ¨å¯ä»¥é–‹å§‹

---

## éšæ®µ 3ï¼šä½¿ç”¨è€…æ•…äº‹ 1 - æŸ¥çœ‹å¤šå€‹åŸå¸‚æ™‚é–“ï¼ˆå„ªå…ˆç´šï¼šP1ï¼‰ğŸ¯ MVP

**ç›®æ¨™**: ä½¿ç”¨è€…å¯ä»¥åŒæ™‚æŸ¥çœ‹ 10 å€‹åŸå¸‚çš„å³æ™‚æ™‚é–“ï¼ŒåŒ…æ‹¬ä¸»è¦é¡¯ç¤ºï¼ˆå°åŒ—ï¼‰å’Œ 9 å€‹æ¬¡è¦åŸå¸‚ï¼Œæ¯ç§’è‡ªå‹•æ›´æ–°

**ç¨ç«‹æ¸¬è©¦**: è¼‰å…¥é é¢ä¸¦é©—è­‰é¡¯ç¤ºæ‰€æœ‰ 10 å€‹åŸå¸‚ï¼ˆå°åŒ—ã€æ±äº¬ã€å€«æ•¦ã€ç´ç´„ã€æ´›æ‰ç£¯ã€å·´é»ã€æŸæ—ã€è«æ–¯ç§‘ã€æ–°åŠ å¡ã€æ‚‰å°¼ï¼‰çš„æ­£ç¢ºæ™‚é–“ï¼Œæ ¼å¼ç‚º HH:mm:ss

### ä½¿ç”¨è€…æ•…äº‹ 1 çš„æ¸¬è©¦

**æ³¨æ„**: æ•´åˆæ¸¬è©¦ç‚ºé¸ç”¨é …ç›®ã€‚å¦‚æœæ¸¬è©¦ç’°å¢ƒæœ‰å•é¡Œï¼ˆä¾‹å¦‚ï¼šå»ºç½®å¤±æ•—ã€ç›¸ä¾æ€§å•é¡Œã€åŸ·è¡Œè¶…æ™‚ï¼‰ï¼Œè«‹ä½¿ç”¨ä»¥ä¸‹æ›¿ä»£æ–¹æ¡ˆï¼š

**ä¸»è¦æ¸¬è©¦æ–¹å¼ï¼ˆæ‰‹å‹•é©—è­‰ï¼‰**:
- é–‹å•Ÿç€è¦½å™¨è¨ªå• `/WorldClock` é é¢
- é©—è­‰é¡¯ç¤º 10 å€‹åŸå¸‚ï¼ˆ1 å€‹ä¸»è¦ + 9 å€‹æ¬¡è¦ï¼‰
- é©—è­‰æ™‚é–“æ ¼å¼ç‚º HH:mm:ss
- é©—è­‰æ™‚é–“æ¯ç§’æ›´æ–°

**é¸ç”¨æ¸¬è©¦æ–¹å¼ï¼ˆè‡ªå‹•åŒ–æ¸¬è©¦ï¼‰**:
- [ ] T009 [US1] åœ¨ BNICalculate.Tests/Integration/Pages/WorldClockPageTests.cs å»ºç«‹ WorldClockPageTests.cs ä¸¦åŠ ä¸Šé é¢è¼‰å…¥æ¸¬è©¦ï¼ˆå¦‚ç’°å¢ƒå•é¡Œå¯è·³éï¼‰
- [ ] T010 [US1] åœ¨ WorldClockPageTests.cs æ–°å¢æ¸¬è©¦é©—è­‰ 10 å€‹åŸå¸‚é¡¯ç¤ºï¼ˆå¦‚ç’°å¢ƒå•é¡Œå¯è·³éï¼‰
- [ ] T011 [US1] åœ¨ WorldClockPageTests.cs æ–°å¢æ¸¬è©¦é©—è­‰æ­£ç¢ºçš„ HTML çµæ§‹ï¼ˆä¸»è¦ + 9 å¼µå¡ç‰‡ï¼‰ï¼ˆå¦‚ç’°å¢ƒå•é¡Œå¯è·³éï¼‰

**å‚™è¨»**: å¦‚æœåŸ·è¡Œ `dotnet test` æ™‚é‡åˆ°ä»¥ä¸‹å•é¡Œï¼š
- å»ºç½®éŒ¯èª¤ï¼šè·³éè‡ªå‹•åŒ–æ¸¬è©¦ï¼Œä½¿ç”¨æ‰‹å‹•é©—è­‰
- åŸ·è¡Œè¶…æ™‚ï¼šè·³éè‡ªå‹•åŒ–æ¸¬è©¦ï¼Œä½¿ç”¨æ‰‹å‹•é©—è­‰
- ç›¸ä¾æ€§å•é¡Œï¼šè·³éè‡ªå‹•åŒ–æ¸¬è©¦ï¼Œä½¿ç”¨æ‰‹å‹•é©—è­‰

### ä½¿ç”¨è€…æ•…äº‹ 1 çš„å¯¦ä½œ

#### HTML Structure (WorldClock.cshtml)

- [ ] T012 [US1] Add loading indicator HTML (spinner + "è¼‰å…¥ä¸­...") in BNICalculate/Pages/WorldClock.cshtml
- [ ] T013 [US1] Create main clock display area with ARIA live region in BNICalculate/Pages/WorldClock.cshtml
- [ ] T014 [US1] Add main time display elements (city name, timezone, time, date) in BNICalculate/Pages/WorldClock.cshtml
- [ ] T015 [US1] Create grid container for 9 secondary city cards in BNICalculate/Pages/WorldClock.cshtml
- [ ] T016 [US1] Add 9 city card templates with data attributes in BNICalculate/Pages/WorldClock.cshtml
- [ ] T017 [US1] Add error message container for timezone API failures in BNICalculate/Pages/WorldClock.cshtml

#### CSS Styling (worldclock.css)

- [ ] T018 [P] [US1] Define CSS variables for colors (per FR-025) in BNICalculate/wwwroot/css/worldclock.css
- [ ] T019 [P] [US1] Style loading indicator (centered, spinner animation) in BNICalculate/wwwroot/css/worldclock.css
- [ ] T020 [P] [US1] Style main clock display area (white background, shadow, centered) in BNICalculate/wwwroot/css/worldclock.css
- [ ] T021 [P] [US1] Define typography styles (per FR-026: 48px main, 24px cards, monospace) in BNICalculate/wwwroot/css/worldclock.css
- [ ] T022 [P] [US1] Create CSS Grid layout for 9 city cards (responsive: 3x3 desktop, 2 cols tablet, 1 col mobile) in BNICalculate/wwwroot/css/worldclock.css
- [ ] T023 [P] [US1] Style city cards (white background, border, padding) in BNICalculate/wwwroot/css/worldclock.css
- [ ] T024 [P] [US1] Style error message container in BNICalculate/wwwroot/css/worldclock.css

#### JavaScript Core Logic (worldclock.js)

- [ ] T025 [US1] Define 10 CityTimezone configuration objects per contracts/world-clock-data.md in BNICalculate/wwwroot/js/worldclock.js
- [ ] T026 [US1] Create ClockState object to manage main/secondary cities and timer in BNICalculate/wwwroot/js/worldclock.js
- [ ] T027 [US1] Implement createFormatter() to create Intl.DateTimeFormat instances in BNICalculate/wwwroot/js/worldclock.js
- [ ] T028 [US1] Implement formatTime() to format time for a city using Intl API in BNICalculate/wwwroot/js/worldclock.js
- [ ] T029 [US1] Implement formatDate() to format date for a timezone in BNICalculate/wwwroot/js/worldclock.js
- [ ] T030 [US1] Implement updateMainClock() to update main display DOM in BNICalculate/wwwroot/js/worldclock.js
- [ ] T031 [US1] Implement updateSecondaryClock() to update a city card DOM in BNICalculate/wwwroot/js/worldclock.js
- [ ] T032 [US1] Implement updateAllClocks() to update all 10 clocks in BNICalculate/wwwroot/js/worldclock.js
- [ ] T033 [US1] Implement startClock() with setInterval (1000ms) in BNICalculate/wwwroot/js/worldclock.js
- [ ] T034 [US1] Implement stopClock() to clear interval and prevent memory leak in BNICalculate/wwwroot/js/worldclock.js
- [ ] T035 [US1] Add try-catch error handling for Intl API failures per FR-022 in BNICalculate/wwwroot/js/worldclock.js
- [ ] T036 [US1] Implement showError() to display error message with refresh button in BNICalculate/wwwroot/js/worldclock.js
- [ ] T037 [US1] Implement hideLoading() to hide loading indicator in BNICalculate/wwwroot/js/worldclock.js
- [ ] T038 [US1] Add DOMContentLoaded event listener to initialize clock in BNICalculate/wwwroot/js/worldclock.js
- [ ] T039 [US1] Add beforeunload event listener to call stopClock() in BNICalculate/wwwroot/js/worldclock.js

#### Heartbeat Detection (FR-009)

- [ ] T040 [US1] Implement heartbeat detection: track lastUpdateTime in ClockState in BNICalculate/wwwroot/js/worldclock.js
- [ ] T041 [US1] Add checkHeartbeat() function to verify updates within 5 seconds in BNICalculate/wwwroot/js/worldclock.js
- [ ] T042 [US1] Create heartbeat timer (setInterval 60000ms) to call checkHeartbeat() in BNICalculate/wwwroot/js/worldclock.js
- [ ] T043 [US1] Implement auto-restart logic when heartbeat fails in BNICalculate/wwwroot/js/worldclock.js
- [ ] T044 [US1] Add console.error logging when heartbeat triggers restart in BNICalculate/wwwroot/js/worldclock.js

**Checkpoint**: At this point, User Story 1 should be fully functional - page loads, displays 10 cities, updates every second, handles errors, and auto-recovers from stalls

---

## Phase 4: User Story 2 - åˆ‡æ›ä¸»è¦é¡¯ç¤ºæ™‚é–“ (Priority: P2)

**Goal**: ä½¿ç”¨è€…å¯ä»¥é»é¸ä»»ä¸€åŸå¸‚æ™‚é–“å¡ç‰‡ï¼Œå°‡è©²åŸå¸‚è¨­ç‚ºä¸»è¦é¡¯ç¤ºï¼Œä¸¦çœ‹åˆ°è¦–è¦ºå›é¥‹ï¼ˆhoverã€active æ•ˆæœï¼‰

**Independent Test**: é»é¸ä»»ä¸€åŸå¸‚å¡ç‰‡ï¼Œé©—è­‰è©²æ™‚é–“ç§»è‡³æ­£ä¸­å¤®æˆç‚ºä¸»è¦é¡¯ç¤ºï¼Œä¸”åŸä¸»è¦æ™‚é–“ç§»è‡³åŸå¸‚åˆ—è¡¨ä¸­

### Tests for User Story 2

- [ ] T045 [P] [US2] Add test for city card click interaction in WorldClockPageTests.cs (may require Selenium/Playwright)
- [ ] T046 [P] [US2] Add test for main/secondary city swap in WorldClockPageTests.cs

### Implementation for User Story 2

#### Interactive Features (worldclock.js)

- [ ] T047 [US2] Implement switchMainCity(cityId) to swap main and secondary cities in BNICalculate/wwwroot/js/worldclock.js
- [ ] T048 [US2] Add click event listeners to all 9 city cards in BNICalculate/wwwroot/js/worldclock.js
- [ ] T049 [US2] Update date display when main city changes in switchMainCity() in BNICalculate/wwwroot/js/worldclock.js
- [ ] T050 [US2] Implement smooth transition animation for city swap in BNICalculate/wwwroot/js/worldclock.js

#### Visual Feedback (worldclock.css)

- [ ] T051 [P] [US2] Add :hover style for city cards (background #e9ecef per FR-013) in BNICalculate/wwwroot/css/worldclock.css
- [ ] T052 [P] [US2] Add :active style for city cards (border #007bff per FR-014) in BNICalculate/wwwroot/css/worldclock.css
- [ ] T053 [P] [US2] Add cursor:pointer to city cards in BNICalculate/wwwroot/css/worldclock.css
- [ ] T054 [P] [US2] Add transition effects for smooth hover/active feedback (<50ms per SC-005) in BNICalculate/wwwroot/css/worldclock.css

#### Accessibility (FR-015 to FR-018)

- [ ] T055 [US2] Add tabindex="0" to all city cards for keyboard navigation in BNICalculate/Pages/WorldClock.cshtml
- [ ] T056 [US2] Add role="button" to city cards in BNICalculate/Pages/WorldClock.cshtml
- [ ] T057 [US2] Add aria-label with city name and time to each card in BNICalculate/wwwroot/js/worldclock.js
- [ ] T058 [US2] Implement Enter key handler for city card selection in BNICalculate/wwwroot/js/worldclock.js
- [ ] T059 [US2] Add :focus style with blue outline (2px #007bff per FR-025) in BNICalculate/wwwroot/css/worldclock.css
- [ ] T060 [US2] Update aria-live region when main city changes in BNICalculate/wwwroot/js/worldclock.js

**Checkpoint**: At this point, User Stories 1 AND 2 should both work - users can click/keyboard navigate to switch main city with visual feedback

---

## Phase 5: User Story 3 - è‡ªå‹•è™•ç†æ™‚å€è®ŠåŒ– (Priority: P3)

**Goal**: ç³»çµ±è‡ªå‹•è™•ç†å¤ä»¤æ™‚é–“è½‰æ›å’Œæ—¥æœŸè®Šæ›´ï¼Œç¢ºä¿æ™‚é–“é¡¯ç¤ºçš„æº–ç¢ºæ€§

**Independent Test**: æ¨¡æ“¬å¤ä»¤æ™‚é–“è½‰æ›æœŸé–“å’Œè·¨æ—¥æœŸæ™‚æ®µï¼Œé©—è­‰ç³»çµ±è‡ªå‹•èª¿æ•´æ™‚å€æ¨™ç¤ºå’Œæ—¥æœŸ

### Tests for User Story 3

- [ ] T061 [P] [US3] Add test for DST handling (mock DST transition date) in WorldClockPageTests.cs
- [ ] T062 [P] [US3] Add test for date change at midnight in WorldClockPageTests.cs
- [ ] T063 [P] [US3] Add test for cross-timezone date differences in WorldClockPageTests.cs

### Implementation for User Story 3

#### DST Handling (Automatic via Intl API)

- [ ] T064 [US3] Verify Intl.DateTimeFormat automatically handles DST for all 6 DST cities in BNICalculate/wwwroot/js/worldclock.js
- [ ] T065 [US3] Add unit test to verify DST offset changes (London GMT+0/+1, New York GMT-5/-4) in worldclock.js
- [ ] T066 [US3] Update offsetLabel display to show current DST state in updateMainClock() in BNICalculate/wwwroot/js/worldclock.js

#### Date Change Handling (FR-020)

- [ ] T067 [US3] Implement date update logic in updateAllClocks() to check for date changes in BNICalculate/wwwroot/js/worldclock.js
- [ ] T068 [US3] Ensure date follows main city timezone (not local timezone) in BNICalculate/wwwroot/js/worldclock.js
- [ ] T069 [US3] Add test case for date display when main city is in different day than local in worldclock.js

#### Browser Compatibility (FR-023, FR-024)

- [ ] T070 [US3] Implement checkBrowserSupport() to detect Intl.DateTimeFormat support in BNICalculate/wwwroot/js/worldclock.js
- [ ] T071 [US3] Add browser version detection for Chrome/Edge 90+, Firefox 88+, Safari 14+ in BNICalculate/wwwroot/js/worldclock.js
- [ ] T072 [US3] Display browser upgrade message if unsupported browser detected in BNICalculate/wwwroot/js/worldclock.js
- [ ] T073 [US3] Add upgrade message HTML container in BNICalculate/Pages/WorldClock.cshtml
- [ ] T074 [P] [US3] Style browser upgrade message in BNICalculate/wwwroot/css/worldclock.css

**Checkpoint**: All user stories should now be independently functional with DST handling, date changes, and browser compatibility

---

## Phase 6: Polish & Cross-Cutting Concerns

**Purpose**: Improvements that affect multiple user stories and final quality assurance

- [ ] T075 [P] Add XML documentation comments to WorldClockModel class in BNICalculate/Pages/WorldClock.cshtml.cs
- [ ] T076 [P] Add JSDoc comments to all JavaScript functions in BNICalculate/wwwroot/js/worldclock.js
- [ ] T077 [P] Optimize formatter instance reuse (cache formatters per research.md) in BNICalculate/wwwroot/js/worldclock.js
- [ ] T078 [P] Add Page Visibility API to pause clock when tab hidden in BNICalculate/wwwroot/js/worldclock.js
- [ ] T079 Test page performance: load time <2s (SC-001), update latency <100ms (SC-002) using browser DevTools
- [ ] T080 Test 24-hour runtime: leave page open, verify no memory leaks or cumulative errors (SC-006)
- [ ] T081 [P] Run cross-browser testing (Chrome, Firefox, Safari, Edge) per FR-023
- [ ] T082 [P] Validate WCAG 2.1 Level AA compliance using axe DevTools
- [ ] T083 Review and update README.md with WorldClock feature description
- [ ] T084 Run validation per quickstart.md: verify all acceptance scenarios pass
- [ ] T085 Code review: check for security issues, console.log removal, error handling completeness

---

## Dependencies & Execution Order

### Phase Dependencies

- **Setup (Phase 1)**: No dependencies - can start immediately
- **Foundational (Phase 2)**: Depends on Setup completion (T001-T005) - BLOCKS all user stories
- **User Stories (Phase 3+)**: All depend on Foundational phase completion (T006-T008)
  - User Story 1 (Phase 3): Can start after Foundational
  - User Story 2 (Phase 4): Depends on User Story 1 complete (T009-T044) - builds on existing clock display
  - User Story 3 (Phase 5): Depends on User Stories 1 & 2 complete (T009-T060) - validates existing functionality
- **Polish (Phase 6)**: Depends on all user stories being complete

### User Story Dependencies

- **User Story 1 (P1)**: Can start after Foundational (Phase 2) - No dependencies on other stories
  - Delivers: Basic clock display, 10 cities, real-time updates, error handling, heartbeat
- **User Story 2 (P2)**: Depends on User Story 1 complete - Adds interactivity to existing display
  - Delivers: City switching, visual feedback, keyboard navigation, accessibility
- **User Story 3 (P3)**: Depends on User Stories 1 & 2 complete - Validates and enhances existing functionality
  - Delivers: DST verification, date handling, browser compatibility checks

### Within Each User Story

**User Story 1**:
1. Tests first (T009-T011) - write and ensure they FAIL
2. HTML structure (T012-T017) - can do in parallel with CSS
3. CSS styling (T018-T024) - can do in parallel with HTML
4. JavaScript core (T025-T039) - depends on HTML/CSS structure existing
5. Heartbeat detection (T040-T044) - depends on core clock logic

**User Story 2**:
1. Tests first (T045-T046) - write and ensure they FAIL
2. Interactive JS (T047-T050) - core switching logic
3. Visual feedback CSS (T051-T054) - can do in parallel with JS
4. Accessibility (T055-T060) - depends on interactive JS complete

**User Story 3**:
1. Tests first (T061-T063) - write and ensure they FAIL
2. DST handling (T064-T066) - verify existing implementation
3. Date handling (T067-T069) - enhance existing logic
4. Browser compatibility (T070-T074) - can do in parallel with DST/date work

### Parallel Opportunities

**Phase 1 (Setup)**: T003, T004 can run in parallel

**Phase 2 (Foundational)**: All sequential (small phase)

**Phase 3 (User Story 1)**:
- Tests T009, T010, T011 can all run in parallel
- HTML (T012-T017) and CSS (T018-T024) can run in parallel
- Within CSS: T018, T019, T020, T021, T022, T023, T024 can all run in parallel (different selectors)

**Phase 4 (User Story 2)**:
- Tests T045, T046 can run in parallel
- CSS tasks T051, T052, T053, T054 can all run in parallel

**Phase 5 (User Story 3)**:
- Tests T061, T062, T063 can all run in parallel
- CSS task T074 can run in parallel with JS tasks T070-T072

**Phase 6 (Polish)**:
- T075, T076, T077, T078, T081, T082, T083 can all run in parallel
- T079, T080 must run after implementation complete
- T084, T085 must run at the end

---

## Parallel Example: User Story 1

Assuming 3 developers working in parallel after Foundational phase completes:

```bash
# Developer 1: HTML Structure
git checkout 003-world-clock
# Work on T012-T017 (HTML in WorldClock.cshtml)

# Developer 2: CSS Styling
git checkout 003-world-clock
# Work on T018-T024 (CSS in worldclock.css)

# Developer 3: Tests
git checkout 003-world-clock
# Work on T009-T011 (Tests in WorldClockPageTests.cs)

# All merge, then move to JavaScript tasks T025-T039 (sequential or split by function groups)
```

---

## Implementation Strategy

### MVP Scope (Minimum Viable Product)

**Recommended MVP**: User Story 1 only (Phase 3)

This delivers core value:
- âœ… Display 10 cities with real-time updates
- âœ… Loading indicator
- âœ… Error handling
- âœ… Heartbeat detection for reliability
- âœ… 24-hour runtime guarantee

**Can ship after**: T009-T044 complete (35 tasks)

### Incremental Delivery

1. **Sprint 1**: Setup + Foundational + User Story 1 (T001-T044)
   - Deliverable: Working clock display with 10 cities
   - User value: Can view multiple timezones simultaneously
   
2. **Sprint 2**: User Story 2 (T045-T060)
   - Deliverable: Interactive city switching with accessibility
   - User value: Can focus on specific timezone of interest
   
3. **Sprint 3**: User Story 3 + Polish (T061-T085)
   - Deliverable: Full feature with DST handling, browser compatibility, optimizations
   - User value: Production-ready with all edge cases handled

### Testing Strategy

- **TDD Approach**: Write tests first for each user story (T009-T011, T045-T046, T061-T063)
- **Integration Tests**: Verify page loads, HTML structure, basic functionality
- **Manual Testing**: Interactive features (clicks, keyboard), visual feedback, long-running stability
- **Cross-browser Testing**: Validate on Chrome, Firefox, Safari, Edge (T081)
- **Accessibility Testing**: Use axe DevTools to verify WCAG compliance (T082)
- **Performance Testing**: Measure load time, update latency, 24-hour runtime (T079, T080)

---

## Task Summary

- **Total Tasks**: 85
- **Setup Phase**: 5 tasks
- **Foundational Phase**: 3 tasks
- **User Story 1 (P1)**: 36 tasks (includes tests, HTML, CSS, JS, heartbeat)
- **User Story 2 (P2)**: 16 tasks (includes tests, interactivity, accessibility)
- **User Story 3 (P3)**: 14 tasks (includes tests, DST, browser compatibility)
- **Polish Phase**: 11 tasks

**Parallel Opportunities**: ~30 tasks can run in parallel (marked with [P])

**Estimated Timeline** (single developer):
- Setup + Foundational: 0.5 day
- User Story 1: 3-4 days
- User Story 2: 1-2 days
- User Story 3: 1-2 days
- Polish: 1 day
- **Total**: ~7-10 days

**With 3 developers in parallel**: ~3-5 days

---

## Validation Checklist

Before marking the feature complete, ensure:

- [ ] All 85 tasks completed and checked off
- [ ] All tests pass (T009-T011, T045-T046, T061-T063)
- [ ] All acceptance scenarios from spec.md verified
- [ ] All success criteria met (SC-001 to SC-007)
- [ ] All functional requirements implemented (FR-001 to FR-026)
- [ ] Cross-browser testing complete (Chrome, Firefox, Safari, Edge)
- [ ] Accessibility validation passed (WCAG 2.1 Level AA)
- [ ] Performance targets met (load <2s, update <100ms, 24h runtime)
- [ ] Code reviewed and approved
- [ ] Documentation updated (README.md, XML comments, JSDoc)
- [ ] No console errors or warnings in browser
- [ ] Memory leak testing passed (24-hour runtime test)
- [ ] quickstart.md validation steps all pass

---

**Generated**: 2025-11-01  
**Next Step**: Begin with Phase 1 Setup tasks (T001-T005)
